<section>
  <uib-tabset active="active">
    <uib-tab index="0" heading="Ver como tabla"> 
        <div id="preloading" class="preloader" ng-show="datosPrincipalesCargando"><img src="images/loader.gif"></div>
        <div class="row p-t-2">
            
            <div class="col-sm-12 col-md-8">
                <table class="table table-striped table-hover"> 
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th colspan="2">Descripción</th>
                            <th>Categoría de evento</th>
                            <th>Categoría en la documentación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>10/05/1751</td>
                            <td colspan="2">esta es la descripción</td>
                            <td>lalalala</td>
                            <td>lalalala</td>
                        </tr>
                        <tr>
                            <td>10/05/1751</td>
                            <td colspan="2">esta es la descripción</td>
                            <td>lalalala</td>
                            <td>lalalala</td>
                        </tr>
                        <tr>
                            <td>10/05/1751</td>
                            <td colspan="2">esta es la descripción</td>
                            <td>lalalala</td>
                            <td>lalalala</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="notasAdicionales" class="col-sm-12 col-md-4">
                <div class="panel panel-primary">
                    <header class="panel-heading">
                        <h4 class="m-a-1">Notas</h4>
                    </header>
                    
                    <div class="p-a-1">
        
                        <button class="btn btn-primary" ng-click="agregarNotaVacia()">Agregar Nota</button>
        
                        <div class="panel panel-default m-b-0 m-t-1" ng-repeat="nota in notas track by $index">
                            <div class="panel-body">
                                <button type="button" 
                                            class="close" 
                                            aria-label="Cerrar" 
                                            ng-click="eliminarNota($index)">
                                            <span aria-hidden="true">&times;</span></button>
                                <p class="notaContenido" 
                                        editable-textarea="nota.nota" 
                                        e-rows="2" 
                                        buttons="right" 
                                        onaftersave="modificarNota($index,nota.nota)">{{nota.nota || "Click para editar"}}</p>
                            <div class="clearfix m-t-1">
                                <div class="notaReferencia pull-left">Fecha Historica: <span editable-text="nota.fechaHistorica" 
                                        onaftersave="modificarFechaHistorica($index,fechaHistorica)">{{nota.fechaHistorica || "ND"}}</span></div>
                            </div>
                            <div class="clearfix m-t-1">
                                <div class="notaReferencia pull-left">Referencia: <span editable-text="nota.referencia" 
                                        onaftersave="modificarReferencia($index,nota.referencia)">{{nota.referencia || "ND"}}</span></div>
                                <div class="notaFecha pull-right">{{nota.fechaCreacion || "Nota Nueva"}}</div>
                            </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
      
        <div class="bottom"></div>

    </uib-tab>
    <uib-tab index="1" heading="Ver como lista"> 
            <div id="preloading" class="preloader" ng-show="datosPrincipalesCargando"><img src="images/loader.gif"></div>
            <div class="row p-t-2">
                
                <div class="col-sm-12 col-md-6">
                    <!-- fecha uno -->
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3 class="inline">Fecha: 
                                <span editable-text="datosPrincipales.fechaEvento" 
                                    onbeforesave="editarDatoPrincipal('fechaEvento',$data)"  
                                    class="m-l-1"> {{ datosPrincipales.fechaEvento || "No definida" }}</span>
                            </h3>
                            <button class="btn btn-primary btn-sm pull-right m-t-1" type="button" data-toggle="collapse" data-target="#descripcion01" aria-expanded="false" aria-controls="collapseExample">
                                Ver descripción
                            </button>
                            <div class="collapse" id="descripcion01">
                                <div class="well m-t-1 m-b-1">
                                    <span editable-text="datosPrincipales.descripcion" 
                                    onbeforesave="editarDatoPrincipal('descripcion',$data)"  
                                    class="m-l-1"> {{ datosPrincipales.descripcion || "Esta es la descripción lalala ala lala alala lalalala lalala." }}</span>
                                </div>
                            </div>
                        </li> 
                        <li class="list-group-item">
                            <span class="label label-primary">Categoría de evento</span>
                            <span editable-text="datosPrincipales.categoriaEvento" 
                                onbeforesave="editarDatoPrincipal('categoriaEvento',$data)"  
                                class="m-l-1"> {{ datosPrincipales.categoriaEvento || "No definido" }}</span>
                        </li> 
                        <li class="list-group-item">
                            <span class="label label-primary">Categoría en la documentación</span>
                            <span editable-text="datosPrincipales.categoriaDocumentacion" 
                                onbeforesave="editarDatoPrincipal('categoriaDocumentacion',$data)"  
                                class="m-l-1"> {{ datosPrincipales.categoriaDocumentacion || "No definido" }}</span>
                        </li>  
                    </ul>
                    <!-- fecha dos -->
                    <ul class="list-group">
                        <li class="list-group-item">
                            <h3 class="inline">Fecha: 
                                <span editable-text="datosPrincipales.fechaEvento" 
                                    onbeforesave="editarDatoPrincipal('fechaEvento',$data)"  
                                    class="m-l-1"> {{ datosPrincipales.fechaEvento || "No definida" }}</span>
                            </h3>
                            <button class="btn btn-primary btn-sm pull-right m-t-1" type="button" data-toggle="collapse" data-target="#descripcion02" aria-expanded="false" aria-controls="collapseExample">
                                Ver descripción
                            </button>
                            <div class="collapse" id="descripcion02">
                                <div class="well m-t-1 m-b-1">
                                    <span editable-text="datosPrincipales.descripcion" 
                                    onbeforesave="editarDatoPrincipal('descripcion',$data)"  
                                    class="m-l-1"> {{ datosPrincipales.descripcion || "Esta es la descripción lalala ala lala alala lalalala lalala." }}</span>
                                </div>
                            </div>
                        </li> 
                        <li class="list-group-item">
                            <span class="label label-primary">Categoría de evento</span>
                            <span editable-text="datosPrincipales.categoriaEvento" 
                                onbeforesave="editarDatoPrincipal('categoriaEvento',$data)"  
                                class="m-l-1"> {{ datosPrincipales.categoriaEvento || "No definido" }}</span>
                        </li> 
                        <li class="list-group-item">
                            <span class="label label-primary">Categoría en la documentación</span>
                            <span editable-text="datosPrincipales.categoriaDocumentacion" 
                                onbeforesave="editarDatoPrincipal('categoriaDocumentacion',$data)"  
                                class="m-l-1"> {{ datosPrincipales.categoriaDocumentacion || "No definido" }}</span>
                        </li>  
                    </ul>
                </div>
    
                <div id="notasAdicionales" class="col-sm-12 col-md-6">
                    <div class="panel panel-primary">
                        <header class="panel-heading">
                            <h4 class="m-a-1">Notas</h4>
                        </header>
                        
                        <div class="p-a-1">
            
                            <button class="btn btn-primary" ng-click="agregarNotaVacia()">Agregar Nota</button>
            
                            <div class="panel panel-default m-b-0 m-t-1" ng-repeat="nota in notas track by $index">
                                <div class="panel-body">
                                    <button type="button" 
                                                class="close" 
                                                aria-label="Cerrar" 
                                                ng-click="eliminarNota($index)">
                                                <span aria-hidden="true">&times;</span></button>
                                    <p class="notaContenido" 
                                            editable-textarea="nota.nota" 
                                            e-rows="2" 
                                            buttons="right" 
                                            onaftersave="modificarNota($index,nota.nota)">{{nota.nota || "Click para editar"}}</p>
                                <div class="clearfix m-t-1">
                                    <div class="notaReferencia pull-left">Fecha Historica: <span editable-text="nota.fechaHistorica" 
                                            onaftersave="modificarFechaHistorica($index,fechaHistorica)">{{nota.fechaHistorica || "ND"}}</span></div>
                                </div>
                                <div class="clearfix m-t-1">
                                    <div class="notaReferencia pull-left">Referencia: <span editable-text="nota.referencia" 
                                            onaftersave="modificarReferencia($index,nota.referencia)">{{nota.referencia || "ND"}}</span></div>
                                    <div class="notaFecha pull-right">{{nota.fechaCreacion || "Nota Nueva"}}</div>
                                </div>
                                </div>
                            </div>
                        </div>
    
                    </div>
                </div>
    
            </div>
          
            <div class="bottom"></div>
    
        </uib-tab>

</section>

<footer class="status-bar">
  <div class="text-right">
    <strong>Ultima Accion: </strong><span class="status-message p-r-1" ng-bind-html="ultimaAccion">{{ultimaAccion}}</span>
    <button ng-click='borrarCambios()' class="btn btn-danger m-r-1" ng-disabled="guardarDatos">Borrar cambios</button>
    <button ng-click='guardarCambios()' class="btn btn-success">Guardar</button>
  </div>
</footer>
